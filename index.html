<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Tracker Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --bg-elevated: #282e36;
            --accent-primary: #58a6ff;
            --accent-green: #3fb950;
            --accent-red: #f85149;
            --accent-purple: #a371f7;
            --accent-cyan: #39c5cf;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-tertiary: #6e7681;
            --border-default: #30363d;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { font-size: 15px; } /* ← Bigger base font */
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .app-container { max-width: 1600px; margin: 0 auto; padding: 24px; }

        /* Much stronger, beautiful date colors */
        .date-row-0 { background: #1e40af28 !important; } /* Deep Blue */
        .date-row-1 { background: #16653438 !important; } /* Rich Green */
        .date-row-2 { background: #7c2d1238 !important; } /* Brick Red */
        .date-row-3 { background: #0d5c6338 !important; } /* Teal */
        .date-row-4 { background: #5b21b638 !important; } /* Purple */
        .date-row-5 { background: #991b1b38 !important; } /* Crimson */
        .date-row-6 { background: #7c3aed38 !important; } /* Violet */
        .date-row-7 { background: #0891b238 !important; } /* Emerald */
        .date-row-8 { background: #b4530938 !important; } /* Amber */
        .date-row-9 { background: #1e3a8a38 !important; } /* Indigo */

        .top-controls {
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 16px;
        }
        .date-control {
            display: flex; align-items: center; gap: 12px; background: var(--bg-secondary); padding: 12px 18px; border-radius: 12px; border: 1px solid var(--border-default);
        }
        .date-control label { font-weight: 600; font-size: 1rem; }
        input[type="date"] { font-size: 1rem; padding: 8px 12px; background: var(--bg-tertiary); border: 1px solid var(--border-default); border-radius: 8px; color: var(--text-primary); }

        .nav-tabs { display: flex; gap: 6px; background: var(--bg-secondary); padding: 6px; border-radius: 12px; border: 1px solid var(--border-default); }
        .nav-tab { padding: 12px 24px; border-radius: 10px; font-size: 1rem; font-weight: 500; }
        .nav-tab.active { background: var(--bg-elevated); }

        table { width: 100%; border-collapse: collapse; font-size: 0.95rem; } /* ← Bigger table text */
        th { padding: 16px; font-size: 0.8rem; letter-spacing: 0.08em; }
        td { padding: 18px 16px; font-size: 0.95rem; } /* ← Clearly larger */

        .ticker-cell { font-size: 1.05rem; font-weight: 600; }
        .price-cell { font-family: 'JetBrains Mono', monospace; font-size: 1rem; }
        .change-positive { color: var(--accent-green); font-weight: 700; }
        .change-negative { color: var(--accent-red); font-weight: 700; }
        .price-cell.current-green { color: var(--accent-green) !important; font-weight: 700; }
        .price-cell.current-red { color: var(--accent-red) !important; font-weight: 700; }

        .results-title { font-size: 1.1rem; }
        .results-count { font-size: 0.85rem; padding: 6px 12px; }

        .company-info-content { padding: 24px; }
        .company-info-section h4 { font-size: 0.8rem; }
        .company-info-section p { font-size: 0.95rem; }

        @media (max-width: 768px) {
            html { font-size: 16px; }
            td, th { padding: 14px 12px; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="top-controls">
            <div class="date-control">
                <label for="dataDate">Data Date</label>
                <input type="date" id="dataDate">
            </div>
            <nav class="nav-tabs">
                <button class="nav-tab active" onclick="showPage('comparison')" id="tab-comparison">Stock Comparison</button>
                <button class="nav-tab" onclick="showPage('insider')" id="tab-insider">Insider Tracking</button>
            </nav>
        </div>

        <!-- Stock Comparison Page -->
        <div id="page-comparison" class="page active">
            <div class="input-grid">
                <div class="card input-full"><textarea id="dataset1" placeholder="Paste first data set..."></textarea></div>
                <div class="card input-full"><textarea id="dataset2" placeholder="Paste second data set..."></textarea></div>
            </div>
            <div class="button-row">
                <button class="btn btn-primary" onclick="compareAndParse()">Compare & Parse</button>
                <button class="btn btn-secondary" onclick="refreshPrices()">Refresh Prices</button>
                <button class="btn btn-danger" onclick="clearAll()">Clear All</button>
                <button class="btn btn-success" onclick="exportToCSV()">Export CSV</button>
            </div>
            <div id="statusMessage" class="status-message"></div>
            <div class="results-card">
                <div class="results-header">
                    <h2 class="results-title">Results <span class="results-count" id="rowCount">0 rows</span></h2>
                </div>
                <div class="table-container">
                    <table>
                        <thead><tr><th>#</th><th>Date</th><th>Ticker</th><th>Company Name</th><th>Price</th><th>Current Price</th><th>% Change</th><th></th></tr></thead>
                        <tbody id="resultsBody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Insider Tracking Page -->
        <div id="page-insider" class="page">
            <div class="button-row">
                <button class="btn btn-secondary" onclick="refreshInsiderPrices()">Refresh Prices</button>
                <button class="btn btn-success" onclick="exportInsiderCSV()">Export CSV</button>
            </div>
            <div id="insiderStatusMessage" class="status-message"></div>
            <div class="results-card">
                <div class="results-header">
                    <h2 class="results-title">Insider Buy Alerts <span class="results-count" id="insiderRowCount">0 rows</span></h2>
                </div>
                <div class="table-container">
                    <table>
                        <thead><tr><th>#</th><th>Date</th><th>Ticker</th><th>Company</th><th>News</th><th>Insider</th><th>Amount</th><th>Alert Price</th><th>Current Price</th><th>% Change</th></tr></thead>
                        <tbody id="insiderResultsBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Your existing JS stays 100% the same — only the render functions use the new classes
        // Just make sure these two lines exist in your renderTable() and renderInsiderTable():

        const rowClass = `date-row-${Object.keys(dateColorMap).indexOf(item.date) % 10}`;

        // Example inside renderTable():
        // <tr class="${rowClass}">...

        // Same for insider table
    </script>
</body>
</html>